@page
@model IndexModel
@using Humanizer
@using HeyRed.MarkdownSharp
@{
	ViewData["Title"] = "Index";
	var options = new MarkdownOptions
	{
		AutoHyperlink = true,
		LinkEmails = true,
		QuoteSingleLine = true,
		StrictBoldItalic = true
	};
	    var mark = new Markdown(options);

}
<link href="//netdna.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//netdna.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>


@foreach (var blogPost in Model.BlogPosts)
{
	<div class="container">
		<div class="row">
			<div class="col-md-1"></div>
			<div class="col-md-10">
				<div id="postlist">
					<div class="panel">
						<div class="panel-heading">
							<div class="text-center">
								<div class="row">
									<div class="col-sm-9">
										<h1 class="pull-left">@Html.Raw(mark.Transform(@blogPost.Title))</h1>
									</div>
									<div class="col-sm-3">
										<h4 class="pull-right">
											<small><em>Post Published: @blogPost.PublishedAt.Humanize()</em></small>
										</h4>
									</div>
								</div>
							</div>
						</div>

						<div class="panel-body">
							@blogPost.Body
						</div>

						<div class="panel-footer">
							@if (blogPost.Tags == null)
							{
								<span class="label label-default">This Blogpost has no Tags </span>
							}
							else
							{
								@foreach (var tag in blogPost.Tags)
								{
									<span class="label label-default">@tag.Name</span>
								}
							}
						</div>
					</div>
				</div>
				<div class="text-center"><a asp-page="./IndividualBlogPost" asp-route-id="@blogPost.Id"> Read More</a></div>
			</div>
			<div class="col-md-1"></div>
			<div class="col-md-3">
			</div>
			<div class="col-md-1">
			</div>
		</div>
	</div>
}



@{
	var prevDisabled = !Model.BlogPosts.HasPreviousPage ? "disabled" : "";
	var nextDisabled = !Model.BlogPosts.HasNextPage ? "disabled" : "";
}

<a asp-page="./Index"
   asp-route-pageIndex="@(Model.BlogPosts.PageIndex - 1)"
   class="btn btn-primary @prevDisabled">
	Previous
</a>
<a asp-page="./Index"
   asp-route-pageIndex="@(Model.BlogPosts.PageIndex + 1)"
   class="btn btn-primary @nextDisabled">
	Next
</a>

